<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Tarea</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-5">
    <h1 class="mb-4">Editar Tarea</h1>

    <form action="/editar/{{ tarea.id }}" method="post" class="card p-4 shadow">
        <div class="mb-3">
            <label class="form-label">Título</label>
            <input type="text" name="titulo" value="{{ tarea.titulo }}" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Descripción</label>
            <textarea name="descripcion" class="form-control">{{ tarea.descripcion }}</textarea>
        </div>

        <div class="mb-3">
            <label class="form-label">Estado</label>
            <select name="estado" class="form-select">
                <option value="pendiente" {% if tarea.estado == 'pendiente' %}selected{% endif %}>Pendiente</option>
                <option value="en proceso" {% if tarea.estado == 'en proceso' %}selected{% endif %}>En proceso</option>
                <option value="completada" {% if tarea.estado == 'completada' %}selected{% endif %}>Completada</option>
            </select>
        </div>

        <div class="mb-4">
            <label class="form-label">Fecha de vencimiento</label>
            <input type="date" name="fecha_vencimiento" value="{{ tarea.fecha_vencimiento.strftime('%Y-%m-%d') if tarea.fecha_vencimiento else '' }}" class="form-control">
        </div>

        <div class="d-flex justify-content-end gap-2">
            <button type="submit" class="btn btn-success btn-sm">Guardar cambios</button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary btn-sm">Cancelar</a>
        </div>
    </form>
</div>
</body>
</html>
